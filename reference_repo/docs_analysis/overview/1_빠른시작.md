# Unity Perception ë¹ ë¥¸ ì‹œì‘

10ë¶„ ì•ˆì— Unity Perception íŒ¨í‚¤ì§€ì˜ í•µì‹¬ì„ ì´í•´í•©ë‹ˆë‹¤.

---

## ğŸ¯ Unity Perceptionì´ë€?

Unity Technologiesê°€ ê°œë°œí•œ **í•©ì„± ë°ì´í„° ìƒì„± íˆ´í‚·** (í˜„ì¬ discontinued, ì»¤ë®¤ë‹ˆí‹° ìœ ì§€ë³´ìˆ˜)

**í•µì‹¬ ê¸°ëŠ¥**:
- ğŸ¥ ì¹´ë©”ë¼ ìº¡ì²˜ + Ground Truth ìë™ ë¼ë²¨ë§
- ğŸ² Domain Randomization (ì¥ë©´ ë³€í™”)
- ğŸ“Š JSON ë°ì´í„°ì…‹ ì¶œë ¥ (SOLO í¬ë§·)

**ë¼ì´ì„ ìŠ¤**: Apache 2.0 (ìƒì—…ì  ì‚¬ìš© ê°€ëŠ¥, ìˆ˜ì • ê°€ëŠ¥)

---

## ğŸ’¡ ìš°ë¦¬ í”„ë¡œì íŠ¸ì™€ì˜ ê´€ê³„

### CCTV Synthetic Data í”„ë¡œì íŠ¸ì—ì„œ í™œìš©

| Unity Perception | ìš°ë¦¬ í”„ë¡œì íŠ¸ |
|-----------------|-------------|
| PerceptionCamera | CCTV ì¹´ë©”ë¼ ì‹œë®¬ë ˆì´ì…˜ |
| BoundingBox Labeler | Person Detection |
| Randomization | Domain Randomization (ì¡°ëª…, ë…¸ì´ì¦ˆ) |
| SOLO JSON | ìš°ë¦¬ ë°ì´í„° í¬ë§·ìœ¼ë¡œ ë³€í™˜ |

### ì±„íƒ ê²°ì •

**âœ… ì±„íƒ ê¶Œì¥ (90/100ì )**
- 50% ì´ìƒ ì¬ì‚¬ìš© ê°€ëŠ¥
- 30~40% ê°œë°œ ì‹œê°„ ì ˆê°
- ê²€ì¦ëœ ì•„í‚¤í…ì²˜ íŒ¨í„´

---

## ğŸ”‘ í•µì‹¬ ê°œë… 3ê°€ì§€

### 1ï¸âƒ£ PerceptionCamera + Labeler

```
Unity Camera (GameObject)
  â””â”€ PerceptionCamera (Component)
     â”œâ”€ BoundingBox2DLabeler   â† ê¸°ì¡´ ì œê³µ
     â”œâ”€ SegmentationLabeler    â† ê¸°ì¡´ ì œê³µ
     â””â”€ PersonDetectionLabeler â† ìš°ë¦¬ê°€ ì¶”ê°€
```

**ì‘ë™ ë°©ì‹**:
1. ë§¤ í”„ë ˆì„ë§ˆë‹¤ PerceptionCameraê°€ ìº¡ì²˜
2. ê° Labelerê°€ Ground Truth ìƒì„±
3. DatasetCaptureê°€ ìˆ˜ì§‘ â†’ JSON ì €ì¥

**ìš°ë¦¬ê°€ í•  ì¼**:
- `PersonDetectionLabeler` í´ë˜ìŠ¤ ë§Œë“¤ê¸°
- `CrowdDensityLabeler` ì¶”ê°€

---

### 2ï¸âƒ£ Randomizer (Domain Randomization)

```
Scenario (ì‹œë‚˜ë¦¬ì˜¤)
  â”œâ”€ LightRandomizer (ì¡°ëª… ë³€í™”)
  â”œâ”€ MaterialRandomizer (ì¬ì§ˆ ë³€í™”)
  â””â”€ CCTVNoiseRandomizer (ìš°ë¦¬ê°€ ì¶”ê°€)
```

**ì‘ë™ ë°©ì‹**:
1. Scenarioê°€ ë§¤ Iterationë§ˆë‹¤ Randomizer ì‹¤í–‰
2. ê° Randomizerê°€ Parameter ê¸°ë°˜ìœ¼ë¡œ ì”¬ ë³€ê²½
3. ë‹¤ì–‘í•œ ì¡°ê±´ì˜ ë°ì´í„° ìƒì„±

**ìš°ë¦¬ê°€ í™œìš©í•  ê²ƒ**:
- ê¸°ì¡´ LightRandomizer â†’ ì¡°ëª… ë³€í™”
- ê¸°ì¡´ VolumeRandomizer â†’ ì¹´ë©”ë¼ íš¨ê³¼ (Bloom, Exposure)
- ì¶”ê°€ CCTVNoiseRandomizer â†’ Gaussian ë…¸ì´ì¦ˆ

---

### 3ï¸âƒ£ Tag Manager (ë™ì  ì˜¤ë¸Œì íŠ¸ ì¿¼ë¦¬)

```csharp
// Randomizerì—ì„œ GameObject ë™ì  ì„ íƒ
var persons = tagManager.Query<PersonTag>();
foreach (var person in persons) {
    // ìœ„ì¹˜/ì™¸í˜• ëœë¤í™”
}
```

**ì¥ì **:
- ì”¬ êµ¬ì¡° ë°”ë€Œì–´ë„ ì½”ë“œ ì•ˆ ë°”ê¿ˆ
- ì‹¤í–‰ ì¤‘ ì˜¤ë¸Œì íŠ¸ ì¶”ê°€/ì‚­ì œ ê°€ëŠ¥

**ìš°ë¦¬ê°€ í™œìš©í•  ê²ƒ**:
- Person GameObjectì— `PersonTag` ë¶™ì´ê¸°
- CrowdDensityRandomizerê°€ Queryí•´ì„œ ìƒì„±/ì‚­ì œ

---

## ğŸ“¦ ì œê³µí•˜ëŠ” ê²ƒ vs ìš°ë¦¬ê°€ ë§Œë“¤ ê²ƒ

### âœ… Unity Perceptionì´ ì œê³µí•˜ëŠ” ê²ƒ

**Camera & Capture**:
- âœ… PerceptionCamera (ê¸°ë³¸ í”„ë ˆì„ì›Œí¬)
- âœ… AsyncGPUReadback (ë¹„ë™ê¸° ìº¡ì²˜)
- âœ… DatasetCapture (í”„ë ˆì„ ê´€ë¦¬)

**Labelers (15ê°œ)**:
- âœ… BoundingBox2D/3D
- âœ… SemanticSegmentation
- âœ… InstanceSegmentation
- âœ… Depth, Normal, Keypoints

**Randomizers (9ê°œ)**:
- âœ… LightRandomizer
- âœ… MaterialRandomizer
- âœ… TransformRandomizer
- âœ… VolumeRandomizer (Post-processing)

**Output**:
- âœ… SOLO JSON í¬ë§·
- âœ… IConsumerEndpoint (í¬ë§· êµì²´ ê°€ëŠ¥)

---

### âŒ ìš°ë¦¬ê°€ ë§Œë“¤ì–´ì•¼ í•˜ëŠ” ê²ƒ

**CCTV íŠ¹í™” Labeler**:
- âŒ PersonDetectionLabeler
- âŒ CrossCameraIDLabeler (Global ID ì¼ê´€ì„±)
- âŒ OcclusionLabeler (ê°€ë¦¼ ë¹„ìœ¨)
- âŒ CrowdDensityLabeler

**CCTV íŠ¹í™” Randomizer**:
- âŒ CCTVNoiseRandomizer (Gaussian, Salt&Pepper)
- âŒ CrowdBehaviorRandomizer (Walk, Idle)

**Crowd Simulation**:
- âŒ NavMesh ê¸°ë°˜ ì´ë™
- âŒ BehaviorTree (í–‰ë™ íŒ¨í„´)
- âŒ Appearance ëœë¤í™”

**Multi-Camera**:
- âŒ 6ëŒ€ ì¹´ë©”ë¼ ë™ê¸°í™”
- âŒ Cross-camera ID ê´€ë¦¬
- âŒ í†µí•© JSON ìƒì„±

**ë°ì´í„° í¬ë§·**:
- âŒ SOLO â†’ ìš°ë¦¬ í¬ë§· ë³€í™˜
- âŒ YOLO/COCO Export
- âŒ Edge NPU í¬ë§· (TFLite, ONNX)

---

## ğŸš€ 3ë‹¨ê³„ í†µí•© ê³„íš

### Step 1: ì´í•´í•˜ê¸° (1ì£¼)
```
âœ… ì´ ë¬¸ì„œ ì½ê¸°
âœ… reference_repo/com.unity.perception/ ìƒ˜í”Œ ì‹¤í–‰
âœ… BoundingBox2DLabeler ì½”ë“œ ì½ê¸°
```

### Step 2: í”„ë¡œí† íƒ€ì… (2ì£¼)
```
âœ… PersonDetectionLabeler êµ¬í˜„
  - BoundingBox2DLabeler ìƒì†
  - 10ê°œ Person GameObjectì— ëŒ€í•´ bbox ìƒì„±
  - JSON ì¶œë ¥ í™•ì¸

âœ… LightRandomizer í…ŒìŠ¤íŠ¸
  - ì¡°ëª… ë°ê¸° Â±30% ë³€í™”
  - 10í”„ë ˆì„ ìƒì„±
```

### Step 3: MVP í†µí•© (Phase 1 - 3ê°œì›”)
```
âœ… Factory Scene + PerceptionCamera
âœ… PersonDetectionLabeler + TrackingLabeler
âœ… LightRandomizer + CCTVNoiseRandomizer
âœ… 10ë§Œ í”„ë ˆì„ ìƒì„±
```

---

## ğŸ“Š Gap ë¶„ì„ ìš”ì•½

| ê¸°ëŠ¥ | Unity Perception | ìš°ë¦¬ í”„ë¡œì íŠ¸ | Gap | ë‚œì´ë„ |
|------|-----------------|-------------|-----|--------|
| Camera Capture | âœ… ì œê³µ | âœ… í•„ìš” | ğŸŸ¡ Multi-cam ë™ê¸°í™” | ì¤‘ê°„ |
| Labeler ì‹œìŠ¤í…œ | âœ… 15ê°œ ì œê³µ | âœ… CCTV íŠ¹í™” | ğŸŸ¡ 4~5ê°œ ì¶”ê°€ | ì¤‘ê°„ |
| Randomization | âœ… 9ê°œ ì œê³µ | âœ… CCTV íŠ¹í™” | ğŸŸ¢ 2~3ê°œ ì¶”ê°€ | ë‚®ìŒ |
| Crowd Simulation | âŒ ì—†ìŒ | âœ… í•„ìˆ˜ | ğŸ”´ ì „ì²´ êµ¬í˜„ | **ë†’ìŒ** |
| AsyncGPU | âœ… êµ¬í˜„ë¨ | âœ… Phase 2 | ğŸŸ¢ ì¬ì‚¬ìš© | ì—†ìŒ |
| JSON ì¶œë ¥ | âœ… SOLO | âœ… Custom | ğŸŸ¡ ë³€í™˜ í•„ìš” | ë‚®ìŒ |

---

## ğŸ“– ë‹¤ìŒ ë‹¨ê³„

### ë” ê¹Šì´ ì´í•´í•˜ê¸°
**[2_ì•„í‚¤í…ì²˜_ê°œìš”.md â†’](2_ì•„í‚¤í…ì²˜_ê°œìš”.md)**
- 5ê°œ í•µì‹¬ ì»´í¬ë„ŒíŠ¸ ìƒì„¸
- ë°ì´í„° íë¦„ ì•„í‚¤í…ì²˜
- ì±„íƒí•´ì•¼ í•  íŒ¨í„´

### ê°œë°œ ì‹œì‘í•˜ê¸°
**[3_ê°œë°œì_ì°¸ì¡°.md â†’](3_ê°œë°œì_ì°¸ì¡°.md)**
- Labeler ê°œë°œ ê°€ì´ë“œ
- Randomizer ê°œë°œ ê°€ì´ë“œ
- ì½”ë“œ ì˜ˆì œ ë° íŒ¨í„´

### ì „ì²´ íŒŒì¼ êµ¬ì¡° ë³´ê¸°
**[reference/ë””ë ‰í† ë¦¬_êµ¬ì¡°.txt â†’](reference/ë””ë ‰í† ë¦¬_êµ¬ì¡°.txt)**
- 100+ íŒŒì¼ ë§µ
- ì¤‘ìš” íŒŒì¼ ìœ„ì¹˜

---

## ğŸ¯ í•µì‹¬ ìš”ì•½

1. **Unity Perception = í•©ì„± ë°ì´í„° ìƒì„± í”„ë ˆì„ì›Œí¬**
2. **50% ì¬ì‚¬ìš© ê°€ëŠ¥** (Camera, Labeler, Randomizer)
3. **50% ì§ì ‘ êµ¬í˜„** (Crowd, Multi-cam, CCTV Labeler)
4. **ì±„íƒ ê¶Œì¥** (30~40% ì‹œê°„ ì ˆê°)

**ë‹¤ìŒ ì½ê¸°**: [2_ì•„í‚¤í…ì²˜_ê°œìš”.md](2_ì•„í‚¤í…ì²˜_ê°œìš”.md) â†’
